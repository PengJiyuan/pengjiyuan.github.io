<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>彭吉元的小屋 by PengJiyuan</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">彭吉元的小屋</h1>
      <h2 class="project-tagline">日常备忘随记</h2>
    </section>

    <section class="main-content">
      <h1>
<a id="环境搭建ubuntu下" class="anchor" href="#%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BAubuntu%E4%B8%8B" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>环境搭建(Ubuntu下)：</h1>

<p><strong>[包括nvm，git，grunt，webpack，sublime，google-chrome，vpn，gnome-pie的安装和配置]</strong>     </p>

<hr>

<h2>
<a id="nvm的搭建" class="anchor" href="#nvm%E7%9A%84%E6%90%AD%E5%BB%BA" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>nvm的搭建</h2>

<p><code>$ cd ~/git</code><br>
<code>$ git clone https://github.com/creationix/nvm.git</code>    </p>

<p>配置终端启动时自动执行 <code>source ~/git/nvm/nvm.sh</code>,
在 <code>~/.bashrc</code>, <code>~/.bash_profile</code>, <code>~/.profile</code>, 或者 <code>~/.zshrc</code> 文件添加以下命令:    </p>

<p><code>source ~/git/nvm/nvm.sh</code>    </p>

<p><strong>或者：</strong>    </p>

<p><code>wget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.31.2/install.sh | bash</code>    </p>

<p>在 <code>~/.bashrc</code>, <code>~/.bash_profile</code>, <code>~/.profile</code>, 或者 <code>~/.zshrc</code> 文件添加以下命令:</p>

<p><code>source ./.nvm/nvm.sh</code>    </p>

<p>然后输入在控制台输入 <code>nvm</code> 查看是否安装成功吧～    </p>

<hr>

<h2>
<a id="常见nvm命令" class="anchor" href="#%E5%B8%B8%E8%A7%81nvm%E5%91%BD%E4%BB%A4" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>常见nvm命令：</h2>

<h3>
<a id="1--安装node" class="anchor" href="#1--%E5%AE%89%E8%A3%85node" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>1.  安装node：</h3>

<pre><code>&gt;`nvm install &lt;version&gt;`    

&gt;nvm 默认是从 http://nodejs.org/dist/ 下载的, 国外服务器, 必然很慢, 好在 nvm以及支持从镜像服务器下载包, 于是我们可以方便地从七牛的 node dist 镜像下载:    

&gt;`NVM_NODEJS_ORG_MIRROR=https://npm.taobao.org/mirrors/node nvm install 5`    

&gt;5是5.xx版本的意思，6即是6.xx版本，也可以指定版本如5.9.1    
</code></pre>

<h3>
<a id="2--查看node版本" class="anchor" href="#2--%E6%9F%A5%E7%9C%8Bnode%E7%89%88%E6%9C%AC" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>2.  查看node版本</h3>

<pre><code>`nvm ls`    列出你安装的所有版本的node以及当前你所用的node版本，还有你默认的node版本。    
</code></pre>

<h3>
<a id="3--切换node版本" class="anchor" href="#3--%E5%88%87%E6%8D%A2node%E7%89%88%E6%9C%AC" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>3.  切换node版本</h3>

<pre><code>`nvm use version`   
</code></pre>

<h3>
<a id="4--设置默认版本" class="anchor" href="#4--%E8%AE%BE%E7%BD%AE%E9%BB%98%E8%AE%A4%E7%89%88%E6%9C%AC" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>4.  设置默认版本</h3>

<pre><code>`nvm alias default v5.9.0`    
</code></pre>

<hr>

<h2>
<a id="git安装及配置" class="anchor" href="#git%E5%AE%89%E8%A3%85%E5%8F%8A%E9%85%8D%E7%BD%AE" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>git安装及配置</h2>

<h3>
<a id="1--安装git" class="anchor" href="#1--%E5%AE%89%E8%A3%85git" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>1.  安装git</h3>

<pre><code>`sudo apt-get install git`    
</code></pre>

<h3>
<a id="2--配置git" class="anchor" href="#2--%E9%85%8D%E7%BD%AEgit" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>2.  配置git</h3>

<pre><code>`git config --global user.name "your name"`

`git config --global user.email "your email"`     
</code></pre>

<h3>
<a id="3--创建ssh-key" class="anchor" href="#3--%E5%88%9B%E5%BB%BAssh-key" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>3.  创建SSH Key</h3>

<pre><code>`ssh-keygen -t rsa -C "youremail@example.com"`     

`cd ~/.ssh`可以看到id_rsa(私钥)和id_rsa.pub(公钥)，将id_rsa.pub的内容添加到    
GitHub-&gt;Account-settings-&gt;SSH Keys中       
</code></pre>

<h3>
<a id="4--windows下配置git" class="anchor" href="#4--windows%E4%B8%8B%E9%85%8D%E7%BD%AEgit" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>4.  windows下配置git：</h3>

<p><code>Git config --global user.name "your name"</code>    </p>

<p><code>git config --global user.email "your email"</code>    </p>

<p><strong>创建SSH Key:</strong>        </p>

<p>不同于linux，window没有~/.ssh，需要生成秘钥到/c/Users/Administrator/.ssh。     </p>

<p>进入/c/Users/Administrator/.ssh目录，<code>ssh-keygen -t rsa -C "youremail@example.com"</code> ,接下来同linux操作。</p>

<hr>

<h2>
<a id="grunt的安装和配置" class="anchor" href="#grunt%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>grunt的安装和配置：</h2>

<ol>
<li>
<p>安装grunt和grunt-cli    </p>

<p><code>npm install -g grunt-cli</code>    </p>

<p><code>npm install grunt -g</code>    </p>
</li>
<li>
<p>安装grunt插件    </p>

<p><code>npm install &lt;module&gt; --save-dev</code>    </p>
</li>
</ol>

<hr>

<h2>
<a id="webpack的安装和使用" class="anchor" href="#webpack%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>webpack的安装和使用</h2>

<h3>
<a id="1--安装" class="anchor" href="#1--%E5%AE%89%E8%A3%85" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>1.  安装</h3>

<pre><code>`npm install webpack -g`    

`npm install webpack --save-dev`    
</code></pre>

<h3>
<a id="2--命令行操作" class="anchor" href="#2--%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%93%8D%E4%BD%9C" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>2.  命令行操作</h3>

<pre><code>`$ webpack --config XXX.js`   //使用另一份配置文件（比如webpack.config2.js）来打包

`$ webpack --watch`   //监听变动并自动打包

`$ webpack -p`    //压缩混淆脚本，这个非常非常重要！

`$ webpack -d`    //生成map映射文件，告知哪些模块被最终打包到哪里了   
</code></pre>

<hr>

<h2>
<a id="sublime-text-3的安装" class="anchor" href="#sublime-text-3%E7%9A%84%E5%AE%89%E8%A3%85" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>sublime text 3的安装</h2>

<pre><code>1. sudo add-apt-repository ppa:webupd8team/sublime-text-3  

2. sudo apt-get update    

3. sudo apt-get install sublime-text-installer    
</code></pre>

<hr>

<h2>
<a id="google-chrome安装" class="anchor" href="#google-chrome%E5%AE%89%E8%A3%85" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>google chrome安装</h2>

<pre><code>1. wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb     

2. sudo dpkg -i google-chrome-stable_current_amd64.deb    

3. 控制台输入 `google-chrome` 即可打开chrome浏览器，把它锁定到启动器吧～ 
</code></pre>

<hr>

<h2>
<a id="linux-zip" class="anchor" href="#linux-zip" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Linux zip</h2>

<ol>
<li><p><code>zip -r myfile.zip ./*</code>
将当前目录下的所有文件和文件夹全部压缩成myfile.zip文件,－r表示递归压缩子目录下所有文件.    </p></li>
<li><p>unzip
<code>unzip -o -d /home/sunny myfile.zip</code><br>
把myfile.zip文件解压到 /home/sunny/<br>
-o:不提示的情况下覆盖文件；<br>
-d:-d /home/sunny 指明将文件解压缩到/home/sunny目录下；</p></li>
<li><p><code>zip -d myfile.zip smart.txt</code><br>
删除压缩文件中smart.txt文件<br>
zip -m myfile.zip ./rpm_info.txt<br>
向压缩文件中myfile.zip中添加rpm_info.txt文件    </p></li>
<li><p><code>zip -r filename.zip file1 file2 file3 /usr/work/school</code><br>
上面的命令把 file1、file2、 file3、以及 /usr/work/school 目录的内容（假设这个目录存在）压缩起来，然后放入 filename.zip 文件中。 </p></li>
</ol>

<h2>
<a id="linux-targz解压" class="anchor" href="#linux-targz%E8%A7%A3%E5%8E%8B" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Linux tar.gz解压</h2>

<p>tar  -zxvf   压缩文件名.tar.gz</p>

<h2>
<a id="vpn的搭建" class="anchor" href="#vpn%E7%9A%84%E6%90%AD%E5%BB%BA" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>VPN的搭建</h2>

<ol>
<li><p>首先需要准备一个文件<br>
NetExtender.Linux.7.0.741.x86_64.tgz      </p></li>
<li>
<p>安装压缩文件        </p>

<p><code>tar -zxvf NetExtender.Linux.7.0.741.x86_64.tgz</code>       </p>

<p><code>cd netExtenderClient</code>     </p>

<p><code>sudo ./install</code>     </p>
</li>
<li>
<p>图形化界面需要java环境支持，不安装图形化界面的略过～    </p>

<p><code>sudo apt-get install openjdk-7-jre</code>       </p>

<p>如果报错的话，使用下边方法：    </p>

<p><code>sudo add-apt-repository ppa:webupd8team/java</code>    </p>

<p><code>sudo apt-get update</code>      </p>

<p><code>sudo apt-get install oracle-java7-installer</code>    </p>

<p>等待时间略长～～    </p>
</li>
<li>
<p>启动    </p>

<p>在控制台输入 <code>netExtender</code> 即可～    </p>
</li>
</ol>

<hr>

<h2>
<a id="安装mysql" class="anchor" href="#%E5%AE%89%E8%A3%85mysql" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>安装mysql</h2>

<p><code>sudo apt-get install mysql-server mysql-client</code> 安装mysql    </p>

<p><code>service mysql start</code>  启动MySQL服务    </p>

<p><code>service mysql stop</code>  停止MySQL服务    </p>

<p><code>sudo mysqladmin -u root password newpassword</code>  修改 MySQL 的管理员密码    </p>

<p>设置远程访问(正常情况下，mysql占用的3306端口只是在IP 127.0.0.1上监听，拒绝了其他IP的访问（通过netstat可以查看到）。取消本地监</p>

<p>听需要修改 my.cnf 文件：)：</p>

<p><code>sudo vi /etc/mysql/my.cnf</code></p>

<p><code>bind-address = 127.0.0.1</code> //找到此内容并且注释  </p>

<h2>
<a id="装x神器gnome-pie" class="anchor" href="#%E8%A3%85x%E7%A5%9E%E5%99%A8gnome-pie" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>装X神器gnome-pie</h2>

<p><code>sudo add-apt-repository ppa:simonschneegans/testing -y</code>    </p>

<p><code>sudo apt-get update &amp;&amp; sudo apt-get install gnome-pie</code>    </p>

<p><code>gnome-pie</code>  即可启动应用        </p>

<p><code>ctrl+alt+a</code>  在鼠标处唤出    </p>

<hr>

<h2>
<a id="chrome-代理设置nproxy" class="anchor" href="#chrome-%E4%BB%A3%E7%90%86%E8%AE%BE%E7%BD%AEnproxy" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>chrome 代理设置(nproxy)</h2>

<pre><code>1. SwitchySharp下载    

2. 解压得到crx文件，拖到chrome扩展程序即可安装    

3. 如图配置    
</code></pre>

<p><img src="http://www.cat666.com/mydemo/images/SwitchySharp%20config.png" alt="config">    </p>

<pre><code>4. npm install nproxy -g    

5. touch your_replace_rule.js   填写你的替换规则    

6. nproxy -l your_replace_rule.js  即可开启代理    
</code></pre>

<h1>
<a id="一些备忘操作" class="anchor" href="#%E4%B8%80%E4%BA%9B%E5%A4%87%E5%BF%98%E6%93%8D%E4%BD%9C" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>一些备忘操作</h1>

<hr>

<h2>
<a id="连接远程服务器" class="anchor" href="#%E8%BF%9E%E6%8E%A5%E8%BF%9C%E7%A8%8B%E6%9C%8D%E5%8A%A1%E5%99%A8" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>连接远程服务器</h2>

<pre><code>ssh root@192.168.1.1  
</code></pre>

<p>（root对应你使用的用户名，192……对应的服务器ip地址，一般服务器端口22，命令默认22.如果需要更改端口在ssh后面 -p 端口）</p>

<h2>
<a id="修改terminal前面路径太长" class="anchor" href="#%E4%BF%AE%E6%94%B9terminal%E5%89%8D%E9%9D%A2%E8%B7%AF%E5%BE%84%E5%A4%AA%E9%95%BF" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>修改terminal前面路径太长</h2>

<p>将 <code>export PS1="\[\e[32;1m\]-&gt; \[\e[0m\]"</code> 添加到 ～/.bashrc 内，保存<br>
   那么终端前面路径只会显示一个箭头～</p>

<h2>
<a id="修改terminal不显示绝对路径只显示当前路径" class="anchor" href="#%E4%BF%AE%E6%94%B9terminal%E4%B8%8D%E6%98%BE%E7%A4%BA%E7%BB%9D%E5%AF%B9%E8%B7%AF%E5%BE%84%E5%8F%AA%E6%98%BE%E7%A4%BA%E5%BD%93%E5%89%8D%E8%B7%AF%E5%BE%84" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>修改terminal不显示绝对路径，只显示当前路径</h2>

<pre><code>打开 ～/.bashrc    

if [ "$color_prompt" = yes ]; then
    PS1='${debian_chroot:+($debian_chroot)}\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\$ '
else
    PS1='${debian_chroot:+($debian_chroot)}\u@\h:\w\$ '
fi
unset color_prompt force_color_prompt    将w改成W，保存    
</code></pre>

<h2>
<a id="watch--enospc报错" class="anchor" href="#watch--enospc%E6%8A%A5%E9%94%99" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>watch ... ENOSPC报错</h2>

<p>在使用gulp，grunt，gitbook等的watch功能时，如果出现watch...ENOSPC的报错，主要是因为watch需要监听很多文件的改动，但是fedora、ubuntu系统的文件句柄其实是有限制的，因此可以使用以下命令：    </p>

<p><code>$ echo fs.inotify.max_user_watches=524288 | sudo tee -a /etc/sysctl.conf &amp;&amp; sudo sysctl -p</code></p>

<h2>
<a id="mysql导出" class="anchor" href="#mysql%E5%AF%BC%E5%87%BA" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>mysql导出</h2>

<p>导出数据库：mysqldump -u 用户名 -p 数据库名 &gt; 导出的文件名     </p>

<p>如我输入的命令行:mysqldump -u root -p news &gt; news.sql   (输入后会让你输入进入MySQL的密码)    </p>

<p>（如果导出单张表的话在数据库名后面输入表名即可）</p>

      <footer class="site-footer">

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>
<style>
.fix_wrapper {
  width: 200px;
  height: 500px;
  background-color: #fff;
  position: fixed;
  top: 50px;
  left: 30px;
  overflow-x: hidden;
  overflow-y: auto;
}
.fix_wrapper > a {
  display: block;
  width: 160px;
  text-overflow: ellipsis;
}
</style>
<script>
;(function() {
  var $ = function(selector) {return document.querySelector(selector);},
  $$ = function(selector) {return document.querySelectorAll(selector);},
  wrapper = document.createElement('div');
  wrapper.className = 'fix_wrapper';
  $('body').appendChild(wrapper);
  Array.from($$('h1,h2,h3,h4,h5')).filter(function(item) {
    return item.firstElementChild;
  }).forEach(function(item, index) {
    var hd = document.createElement('a');
    hd.href = '#' + (item.firstElementChild ? item.firstElementChild.getAttribute('id') : item.textContent);
    hd.text = item.textContent;
    switch(item.tagName) {
      case 'H1':
        hd.style = 'color: #159957';
        break;
      case 'H2':
        hd.style = 'margin-left: 15px;color: #ef8376';
        break;
      case 'H3':
        hd.style.marginLeft = '30px';
        break;
      default:
        hd.style.marginLeft = 0;
        break;
    }
    wrapper.appendChild(hd);
  });
})();
</script>
  </body>
</html>
