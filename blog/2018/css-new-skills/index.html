<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta name="keywords" content="css-modules,styled-components,less,css,postcss,js,å‰ç«¯" />
    
    <meta name="description" content="æœ¬ç« ä¸»è¦ä»‹ç»css-modules, styled-components, less." />
    <meta name="og:site_name" content="PengJiyuan's Blog" />
    <meta name="og:image" content="/static/images/common/avatar.png" />
    <meta name="og:url" content="http://isweety.me/blog/2018/css-new-skills" />
    <meta name="og:title" content="Cssè¿˜å¯ä»¥è¿™ä¹ˆå†™?" />
    <meta name="og:description" content="æœ¬ç« ä¸»è¦ä»‹ç»css-modules, styled-components, less." />
    <link href="/static/css/markdown.css" rel="stylesheet" />
    <link href="/static/css/highlight.css" rel="stylesheet" />
    <link rel="shortcut icon" href="/static/images/common/favicon.ico" type="image/x-icon" />
    <link href="/static/css/blog.css" rel="stylesheet" />
    <link href="/static/iconfonts/icons/icons.css" rel="stylesheet" />
    <title>Cssè¿˜å¯ä»¥è¿™ä¹ˆå†™?-JavaScript,Css</title>
  </head>
  <body>
    <nav class="nav">
  <a href="/" class="avatar"><img src="/static/images/common/avatar.png" /></a>
  <div id="menu-btn" class="menu-btn"><i class="icon icon-category"></i>èœå•</div>
</nav>

<div class="nav-content">
  <h3>èœå•</h3>
  <i id="close-nav" class="icon icon-close"></i>
  <div class="menus">
    <a href="/">åšå®¢</a><a href="/opensource">æˆ‘çš„å¼€æº</a><a href="/tag">å½’æ¡£</a>
  </div>
  <h3>å…³æ³¨æˆ‘</h3>
  <div class="follow-me">
    <a href="https://github.com/PengJiyuan">Github</a><a href="https://twitter.com/MrjLEO">Twitter</a>
  </div>
</div>

<script>
  var menuBtn = document.getElementById('menu-btn');
  var closeNav = document.getElementById('close-nav');
  menuBtn.onclick = function() {
    document.body.classList.toggle('nav-open');
  };
  closeNav.onclick = function() {
    document.body.classList.toggle('nav-open');
  }
</script>

    <div class="site-wrapper">
      <header id="header" class="header">
        <div class="center">
          <h1 class="title">Cssè¿˜å¯ä»¥è¿™ä¹ˆå†™?</h1>
          <p class="author"><img src="/static/images/common/favicon.ico" />PengJiyuan | åŸåˆ›</p>
          <p class="intro">æœ¬ç« ä¸»è¦ä»‹ç»css-modules, styled-components, less.</p>
        </div>
      </header>
      <script>
        var header = document.getElementById('header');
        var themes = [
          'mooonlit', 'cool_blue', 'evening_sunshing', 'memariani', 'kye_meh',
          'by_design', 'red_sunset', 'pun_yeta', 'nepal', 'deep_space', 'curiosity_blue',
          'purple_bliss', 'miaka', 'sky'
        ];
        function random(min, max) {
          return Math.floor(Math.random() * (max - min + 1)) + min;
        }
        const theme = themes[random(0, themes.length - 1)];
        header.classList.add(theme);
      </script>
      <div class="markdown-body">
        
        <div class="copyright">
          æœ¬æ–‡ç”± <a href="/">PengJiyuan</a> åˆ›ä½œï¼Œé‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh">çŸ¥è¯†å…±äº«ç½²å 3.0 (CC BY-NC-ND 3.0)</a> å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯, è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œç¦æ­¢å•†ä¸šæ€§ä½¿ç”¨ï¼Œç¦æ­¢æ¼”ç»ã€‚
        </div>
        
        <blockquote>
<p>ä½œä¸ºä¸€ä¸ªå‰ç«¯ï¼Œæ¯«æ— ç–‘é—®cssè‚¯å®šæ˜¯æœ€åŸºç¡€çš„ä¸€é¡¹æŠ€èƒ½ä¹‹ä¸€ã€‚cssæ˜¯ä¸€ä¸ªæ ‡è®°è¯­è¨€ï¼Œæ²¡æœ‰ç¼–ç¨‹è¯­è¨€çš„è¯¸å¤šç‰¹æ€§ï¼Œæ¯”å¦‚å˜é‡å®šä¹‰ï¼Œå¤ç”¨ï¼ŒåµŒå¥—ç­‰ï¼Œæ‰€ä»¥ç›¸åº”çš„å¼€å‘æ•ˆç‡ä¹Ÿå—åˆ°é™åˆ¶ã€‚
åœ¨è¿½æ±‚æ•ˆç‡å’Œè‡ªåŠ¨åŒ–çš„å½“ä¸‹ï¼Œæ¶Œç°äº†ä¸€æ‰¹è§£å†³æ–¹æ¡ˆï¼Œåƒæ˜¯cssé¢„ç¼–è¯‘è¯­è¨€Less, Sassç­‰ï¼Œè§£å†³csså‘½åå†²çªçš„css-modulesï¼Œreactä¸­cssçš„æœ€ä½³å®è·µstyled-componentsç­‰ã€‚</p>
<p>æœ¬ç¯‡æ–‡ç« ä¸åœ¨äºæ¢è®¨cssçš„æŠ€å·§å­¦ä¹ ï¼Œè€Œåœ¨äºè®¨è®ºcssçš„è¿™äº›æå‡å¼€å‘æ•ˆç‡çš„æ–¹æ¡ˆã€‚</p>
</blockquote>
<h2 id="less">
      <a href="#less" aria-hidden="true"><i class="icon icon-link"></i></a>
      Less
    </h2>
<p><a href="https://github.com/less/less.js">Less</a>, <a href="https://github.com/sass/sass">Sass</a>, <a href="https://github.com/stylus/stylus">Stylus</a>ç­‰ <code>cssé¢„ç¼–è¯‘è¯­è¨€</code>ï¼Œç»™cssèµ‹äºˆäº†ç¼–ç¨‹ç‰¹æ€§ã€‚æ‹¿ <code>Less</code> æ¥è¯´ï¼Œå®ƒæ‰©å±•äº† CSS è¯­è¨€ï¼Œå¢åŠ äº†å˜é‡ã€Extendã€Mixinã€å‡½æ•°ç­‰ç‰¹æ€§ï¼Œä¹Ÿæ”¯æŒimportå¯¼å…¥æ–‡ä»¶ï¼Œä½¿ CSS æ›´æ˜“ç»´æŠ¤å’Œæ‰©å±•ã€‚æœ¬ç¯‡ç®€å•ä»‹ç»ä¸€ä¸‹Lessçš„ä¸€äº›ç‰¹æ€§ï¼Œè¯¦ç»†çš„æ•™ç¨‹å¯ä»¥ä¸Š<a href="http://lesscss.org/">Lesså®˜ç½‘</a>æŸ¥çœ‹ã€‚</p>
<h3 id="æ€ä¹ˆæ ·ä½¿ç”¨less?">
      <a href="#æ€ä¹ˆæ ·ä½¿ç”¨less?" aria-hidden="true"><i class="icon icon-link"></i></a>
      æ€ä¹ˆæ ·ä½¿ç”¨Less?
    </h3>
<p>æˆ‘ä»¬å¯ä»¥åœ¨ <code>å‘½ä»¤è¡Œ</code> ç›´æ¥ä½¿ç”¨lessï¼Œä¹Ÿå¯ä»¥é€šè¿‡ <code>node api</code> å»ä½¿ç”¨lessï¼Œæˆ–è€…é€šè¿‡ <code>webpack</code>ï¼Œ<code>gulp</code>ï¼Œ<code>grunt</code>ç­‰çš„ <code>lessæ’ä»¶</code> å»ä½¿ç”¨ï¼Œç”šè‡³å¯ä»¥åœ¨æµè§ˆå™¨ç«¯ä½¿ç”¨ï¼Œéå¸¸çµæ´»ã€‚è¿™é‡Œç®€å•è¯´ä¸€ä¸‹åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨lessã€‚</p>
<pre><code class="language-bash">$ npm i less -g
<span class="hljs-comment"># å½“lessè¢«å®‰è£…ä¹‹åï¼Œå°±å¯ä»¥ä½¿ç”¨å…¨å±€å‘½ä»¤lessc</span>
$ lessc bootstrap.less bootstrap.css</code></pre>
<h3 id="ä¸€ã€å˜é‡">
      <a href="#ä¸€ã€å˜é‡" aria-hidden="true"><i class="icon icon-link"></i></a>
      ä¸€ã€å˜é‡
    </h3>
<p><code>å˜é‡ä½¿cssä»£ç æ›´æ˜“ç»´æŠ¤ã€‚</code></p>
<p>æ¯”å¦‚æœ‰ä¸ªä¸»è‰² <code>#ef8376</code>ï¼Œåœ¨æ•´ä¸ªæ ·å¼è¡¨ä¸­ï¼Œæˆ‘ä»¬æœ‰å¤šå¤„ä½¿ç”¨è¿™ä¸ªé¢œè‰²ã€‚å¦‚æœä¸»è‰²å˜åŠ¨çš„è¯ï¼Œæ¯”å¦‚ä¸»è‰²è¦å˜æˆ <code>#000</code>ï¼Œæˆ‘ä»¬å°±è¦æ‰‹åŠ¨å»å…¨å±€æ›¿æ¢è¿™ä¸ªå˜é‡ï¼Œè€Œæœ‰ä¸€äº› <code>#ef8376</code>æˆ‘ä»¬å´ä¸å¸Œæœ›æ›¿æ¢æ‰ï¼Œè¿™æ ·å°±é€ æˆäº†æå¤§çš„å›°æ‰°ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬ä½¿ç”¨lessçš„è¯ï¼Œå°±å¯ä»¥è¿™ä¹ˆå†™ï¼š</p>
<pre><code class="language-less"><span class="hljs-variable">@primaryColor:</span> <span class="hljs-number">#ef8376</span>;

<span class="hljs-selector-class">.banner</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-variable">@primaryColor</span>;
  <span class="hljs-selector-class">.text</span> {
    <span class="hljs-attribute">color</span>: <span class="hljs-variable">@primaryColor</span>;
    <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#ef8376</span>;
  }
}</code></pre>
<p>æˆ‘ä»¬è¦ä¿®æ”¹ä¸»è‰²ï¼Œåªéœ€è¦å°† <code>@primaryColor</code> ä¿®æ”¹ä¸º &#39;#000&#39;å³å¯ã€‚</p>
<h3 id="äºŒã€extend">
      <a href="#äºŒã€extend" aria-hidden="true"><i class="icon icon-link"></i></a>
      äºŒã€Extend
    </h3>
<p><code>Extendè®©æˆ‘ä»¬å¯ä»¥ç”¨ä¼ªç±»çš„å†™æ³•å»åˆå¹¶ä¸€äº›ç±»</code>ã€‚</p>
<p>æ¯”å¦‚ï¼š</p>
<pre><code class="language-less"><span class="hljs-selector-tag">nav</span> <span class="hljs-selector-tag">ul</span> {
  <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-pseudo">:extend(.inline)</span>;
  <span class="hljs-attribute">background</span>: blue;
}
<span class="hljs-selector-class">.inline</span> {
  <span class="hljs-attribute">color</span>: red;
}</code></pre>
<p>ä¼šç¼–è¯‘æˆï¼š</p>
<pre><code class="language-css"><span class="hljs-selector-tag">nav</span> <span class="hljs-selector-tag">ul</span> {
  <span class="hljs-attribute">background</span>: blue;
}
<span class="hljs-selector-class">.inline</span>,
<span class="hljs-selector-tag">nav</span> <span class="hljs-selector-tag">ul</span> {
  <span class="hljs-attribute">color</span>: red;
}</code></pre>
<h3 id="ä¸‰ã€mixin">
      <a href="#ä¸‰ã€mixin" aria-hidden="true"><i class="icon icon-link"></i></a>
      ä¸‰ã€Mixin
    </h3>
<p><code>Mixinæ—¢æœ‰Extendç»§æ‰¿å·²æœ‰ç±»çš„ç‰¹æ€§ï¼Œä¹Ÿæœ‰å…¶ä»–é«˜çº§çš„ç‰¹æ€§ï¼Œæ¯”å¦‚æ”¯æŒå˜é‡ï¼Œæ”¯æŒåƒä½¿ç”¨æ–¹æ³•ä¸€æ ·ä½¿ç”¨mixin</code></p>
<p><strong>æ”¯æŒå˜é‡</strong></p>
<pre><code class="language-less"><span class="hljs-selector-class">.foo</span> (<span class="hljs-variable">@bg</span>, <span class="hljs-variable">@color</span>: <span class="hljs-string">'#000'</span>) {
  <span class="hljs-attribute">background</span>: <span class="hljs-variable">@bg</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-variable">@color</span>;
}
<span class="hljs-selector-class">.unimportant</span> {
  <span class="hljs-selector-class">.foo</span>(<span class="hljs-number">#f5f5f5</span>);
}
<span class="hljs-selector-class">.important</span> {
  <span class="hljs-selector-class">.foo</span>(<span class="hljs-number">#121212</span>) !important;
}</code></pre>
<p>ä¼šç¼–è¯‘æˆï¼š</p>
<pre><code class="language-css"><span class="hljs-selector-class">.unimportant</span> {
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#f5f5f5</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#000</span>;
}
<span class="hljs-selector-class">.important</span> {
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#121212</span> <span class="hljs-meta">!important</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#000</span> <span class="hljs-meta">!important</span>;
}</code></pre>
<p><strong>åƒæ–¹æ³•ä¸€æ ·ä½¿ç”¨Mixin</strong></p>
<pre><code class="language-less"><span class="hljs-selector-class">.count</span>(<span class="hljs-variable">@x</span>, <span class="hljs-variable">@y</span>) {
  <span class="hljs-variable">@margin:</span> ((<span class="hljs-variable">@x</span> + <span class="hljs-variable">@y</span>) / <span class="hljs-number">2</span>);
  <span class="hljs-variable">@padding:</span> ((<span class="hljs-variable">@x</span> + <span class="hljs-variable">@y</span>) / <span class="hljs-number">4</span>)
}

<span class="hljs-selector-tag">div</span> {
  <span class="hljs-attribute">margin</span>: .count(<span class="hljs-number">16px</span>, <span class="hljs-number">16px</span>)[<span class="hljs-variable">@margin</span>];
  <span class="hljs-attribute">padding</span>: .count(<span class="hljs-number">16px</span>, <span class="hljs-number">16px</span>)[<span class="hljs-variable">@padding</span>];
}

<span class="hljs-selector-class">.loop</span>(<span class="hljs-variable">@counter</span>) <span class="hljs-keyword">when</span> (<span class="hljs-variable">@counter</span> &gt; <span class="hljs-number">0</span>) {
  <span class="hljs-selector-class">.loop</span>((<span class="hljs-variable">@counter</span> - <span class="hljs-number">1</span>));    <span class="hljs-comment">// next iteration</span>
  <span class="hljs-attribute">width</span>: (<span class="hljs-number">10px</span> * <span class="hljs-variable">@counter</span>); <span class="hljs-comment">// code for each iteration</span>
}

<span class="hljs-selector-class">.text</span> {
  <span class="hljs-selector-class">.loop</span>(<span class="hljs-number">5</span>); <span class="hljs-comment">// launch the loop</span>
}</code></pre>
<p>ä¼šç¼–è¯‘æˆ:</p>
<pre><code class="language-css"><span class="hljs-selector-tag">div</span> {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">16px</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">8px</span>;
}

<span class="hljs-selector-class">.text</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">10px</span>;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">30px</span>;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">40px</span>;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">50px</span>;
}</code></pre>
<h3 id="å››ã€importå¯¼å…¥æ–‡ä»¶">
      <a href="#å››ã€importå¯¼å…¥æ–‡ä»¶" aria-hidden="true"><i class="icon icon-link"></i></a>
      å››ã€Importå¯¼å…¥æ–‡ä»¶
    </h3>
<pre><code class="language-less"><span class="hljs-comment">// head.less</span>
<span class="hljs-selector-class">.banner</span> {
  <span class="hljs-attribute">background-color</span>: red;
}</code></pre>
<pre><code class="language-less"><span class="hljs-comment">// footer.css</span>
<span class="hljs-selector-class">.footer</span> {
  <span class="hljs-attribute">background-color</span>: green;
}</code></pre>
<pre><code class="language-less"><span class="hljs-keyword">@import</span> <span class="hljs-string">'./head.less'</span>;
<span class="hljs-keyword">@import</span> css <span class="hljs-string">'./footer.css'</span>;</code></pre>
<p>ä¼šç¼–è¯‘æˆï¼š</p>
<pre><code class="language-css"><span class="hljs-selector-class">.banner</span> {
  <span class="hljs-attribute">background-color</span>: red;
}
<span class="hljs-selector-class">.footer</span> {
  <span class="hljs-attribute">background-color</span>: green;
}</code></pre>
<h3 id="äº”ã€æ–¹æ³•">
      <a href="#äº”ã€æ–¹æ³•" aria-hidden="true"><i class="icon icon-link"></i></a>
      äº”ã€æ–¹æ³•
    </h3>
<p><code>Lessæ”¯æŒä¸€äº›å¸¸ç”¨çš„è¾…åŠ©æ–¹æ³•</code></p>
<p>æ¯”å¦‚<code>darken</code>å’Œ<code>lighten</code>ç”¨æ¥åŠ æ·±æˆ–æ·¡åŒ–é¢œè‰²ã€‚</p>
<pre><code class="language-less"><span class="hljs-selector-tag">body</span> {
  <span class="hljs-attribute">background-color</span>: darken(hsl(<span class="hljs-number">90</span>, <span class="hljs-number">80%</span>, <span class="hljs-number">50%</span>), <span class="hljs-number">20%</span>);
  <span class="hljs-attribute">color</span>: lighten(hsl(<span class="hljs-number">90</span>, <span class="hljs-number">80%</span>, <span class="hljs-number">50%</span>), <span class="hljs-number">20%</span>);
}</code></pre>
<p>ä¼šç¼–è¯‘æˆï¼š</p>
<pre><code class="language-css"><span class="hljs-selector-tag">body</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#4d8a0f</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#b3f075</span>;
}</code></pre>
<h2 id="css-modules">
      <a href="#css-modules" aria-hidden="true"><i class="icon icon-link"></i></a>
      css-modules
    </h2>
<p><a href="https://github.com/css-modules/css-modules">css-modules</a> ç›¸è¾ƒäº <strong>Less</strong> æ¥è¯´æœ‰æ‰€ä¸åŒï¼Œ<strong>css-modules</strong> åªæ˜¯æ‹“å±•äº† css çš„å†™æ³•ï¼Œè§£å†³äº†cssçš„å—ä½œç”¨åŸŸå’Œå…¨å±€ä½œç”¨åŸŸï¼Œè€Œä¸æ˜¯å°†csså˜æˆä¸€é—¨ç¼–ç¨‹è¯­è¨€ã€‚</p>
<h3 id="ä¸ºä»€ä¹ˆéœ€è¦-css-modulesï¼Ÿ">
      <a href="#ä¸ºä»€ä¹ˆéœ€è¦-css-modulesï¼Ÿ" aria-hidden="true"><i class="icon icon-link"></i></a>
      ä¸ºä»€ä¹ˆéœ€è¦ css-modulesï¼Ÿ
    </h3>
<p>Cssä¸€ç›´ä»¥æ¥éƒ½æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯csså®šä¹‰çš„ç±»éƒ½æ˜¯å…¨å±€çš„ï¼Œæˆ‘ä»¬è™½ç„¶å¯ä»¥é€šè¿‡ä¸åŒçš„å‘½åç©ºé—´æˆ–æ˜¯åŠ å‰ç¼€çš„æ–¹å¼å»é¿å…ç±»çš„æ··æ·†å’Œå†²çªï¼Œä½†æ˜¯åœ¨å†™æ³•ä¸Šå´ä¸æ˜¯é‚£ä¹ˆçš„å¹²å‡€åˆ©è½ï¼Œè€Œä¸”ä¸€æ—¦é‡æ„cssçš„è¯ï¼Œä¹Ÿä¼šé€ æˆå¾ˆå¤§çš„å›°æ‰°ã€‚</p>
<p>ä¸ºäº†è®©æˆ‘ä»¬èƒ½éšæ„çš„å†™ç±»åè€Œä¸éœ€è¦è€ƒè™‘å†²çªæˆ–æ˜¯è¦†ç›–ï¼Œ<strong>css-modules</strong> ä¾¿å‡ºç°äº†ã€‚</p>
<p><strong>css-modules</strong>æä¾›äº† å—ä½œç”¨åŸŸ <code>:local</code> å’Œ å…¨å±€ä½œç”¨åŸŸ <code>:global</code>ï¼Œè¿™ä¸¤ä¸ªç‰¹æ€§å°±èƒ½å¾ˆå¥½çš„é¿å…cssçš„å‘½åå†²çªã€‚</p>
<h3 id="æ€ä¹ˆä½¿ç”¨ï¼Ÿ">
      <a href="#æ€ä¹ˆä½¿ç”¨ï¼Ÿ" aria-hidden="true"><i class="icon icon-link"></i></a>
      æ€ä¹ˆä½¿ç”¨ï¼Ÿ
    </h3>
<p>é¦–å…ˆæ¥è¯´ä¸€ä¸‹æ€ä¹ˆä½¿ç”¨ <strong>css-modules</strong>ã€‚</p>
<p>å½“æˆ‘ä»¬åœ¨ä½¿ç”¨<a href="https://github.com/webpack/webpack">webpack</a>çš„æ—¶å€™ï¼Œæœ€ç®€å•çš„ç”¨æ³•æ˜¯é€šè¿‡ <a href="https://github.com/webpack-contrib/css-loader">css-loader</a> æ¥å¼€å¯å¯¹ <strong>css-modules</strong> çš„æ”¯æŒã€‚å¦‚ä¸‹ï¼š</p>
<pre><code class="language-javascript">{
  <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.css$/</span>,
  <span class="hljs-attr">use</span>: [
    {
      <span class="hljs-attr">loader</span>: <span class="hljs-string">'css-loader'</span>,
      <span class="hljs-attr">options</span>: {
        <span class="hljs-attr">modules</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¼€å¯å¯¹css-modulesçš„æ”¯æŒ</span>
        localIdentName: <span class="hljs-string">'[name]__[local]___[hash:base64:5]'</span> <span class="hljs-comment">// ç”Ÿæˆçš„ç±»åçš„æ ¼å¼</span>
      }
    }
  ]
}</code></pre>
<p>åŒæ—¶å¯ä»¥é…åˆ<a href="https://github.com/webpack-contrib/less-loader">less-loader</a> å’Œ <a href="https://github.com/postcss/postcss">postcss</a>ä½¿ç”¨ã€‚æ³¨æ„ï¼šåœ¨ç»“åˆ<a href="https://github.com/webpack-contrib/less-loader">less-loader</a>çš„æ—¶å€™å¯èƒ½å‡ºç°å¯¹urlçš„å…¼å®¹é—®é¢˜ã€‚è§ï¼š<a href="https://github.com/webpack-contrib/less-loader/issues/109#issuecomment-253797335">https://github.com/webpack-contrib/less-loader/issues/109#issuecomment-253797335</a> ã€‚è€Œä¸” <strong>less-loader</strong> çš„ç»´æŠ¤è€…è®¤ä¸ºç»“åˆ <strong>less-loader</strong> å’Œ <strong>css-modules</strong>æ²¡ä»€ä¹ˆå¿…è¦ã€‚ã€‚</p>
<ul>
<li><a href="https://github.com/webpack-contrib/css-loader">css-loader</a> - webpackå¼€å¯css modules</li>
<li><a href="https://github.com/css-modules/postcss-modules">postcss-modules</a> - postcssçš„ <strong>css-modules</strong> æ’ä»¶</li>
</ul>
<h3 id="ä¸€ã€ä½œç”¨åŸŸ">
      <a href="#ä¸€ã€ä½œç”¨åŸŸ" aria-hidden="true"><i class="icon icon-link"></i></a>
      ä¸€ã€ä½œç”¨åŸŸ
    </h3>
<p><strong>css-modules</strong>æä¾›äº†ä¸¤ä¸ªå…³é”®å­—ï¼Œ<code>:local</code> å’Œ <code>:global</code>ã€‚</p>
<p>æ¯”å¦‚è¿™ç§å†™æ³•ï¼š</p>
<pre><code class="language-less"><span class="hljs-comment">// App.css</span>
<span class="hljs-selector-pseudo">:local(.banner)</span> {
  <span class="hljs-attribute">background</span>: red;
}
<span class="hljs-selector-pseudo">:local(.banner</span> <span class="hljs-selector-class">.text</span>) {
  <span class="hljs-attribute">color</span>: yellow;
}
<span class="hljs-selector-class">.center</span> {
  <span class="hljs-attribute">color</span>: green;
}
<span class="hljs-selector-pseudo">:global(.global-class-name)</span> {
  <span class="hljs-attribute">color</span>: blue;
}</code></pre>
<p>ä¼šç¼–è¯‘æˆï¼š</p>
<pre><code class="language-css"><span class="hljs-selector-class">.App__banner___3NbRo</span> {
  <span class="hljs-attribute">background</span>: red;
}
<span class="hljs-selector-class">.App__banner___3NbRo</span> <span class="hljs-selector-class">.App__text___2j1Ht</span> {
  <span class="hljs-attribute">color</span>: yellow;
}
<span class="hljs-selector-class">.App__center___3eDJo</span> {
  <span class="hljs-attribute">background</span>: green;
}
<span class="hljs-selector-class">.global-class-name</span> {
  <span class="hljs-attribute">color</span>: blue;
}</code></pre>
<p><code>:global</code> å£°æ˜çš„ç±»ä¸ä¼šè¢«ç¼–è¯‘ï¼Œä¼šä¿æŒä¸å˜ã€‚</p>
<p>åŒæ—¶ï¼Œæˆ‘ä»¬åœ¨jsä¸­å¼•å…¥cssï¼Œå†™æ³•å¦‚ä¸‹ï¼š</p>
<pre><code class="language-javascript"><span class="hljs-comment">/**
 * stylesæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿstyleså…¶å®æ˜¯ä¸€ä¸ªç»è¿‡å¤„ç†è¿‡çš„ç±»åçš„é›†åˆã€‚
 * 
 * æ¯”å¦‚ä¸Šè¾¹è¿™ä¸ªcssæ–‡ä»¶ï¼Œå¤„ç†åçš„styleå¯¹è±¡æ˜¯è¿™æ ·çš„ï¼š
 * 
 * {
 *   banner: 'App__banner___3NbRo',
 *   text: 'App__banner___3NbRo App__text___2j1Ht',
 *   center: 'App__center___3eDJo'
 * }
 * 
 * è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç†è§£ä¸ºä»€ä¹ˆcss-moduleså¯ä»¥é¿å…æ˜æ˜å†²çªäº†ã€‚
 * å‘½åéƒ½æŒ‰ç…§æˆ‘ä»¬è®¾ç½®çš„hashè§„åˆ™é‡å†™äº†,ä¿è¯äº†ç±»åçš„å”¯ä¸€ï¼Œå¹¶ä¸”åœ¨ç”Ÿæˆçš„htmlç»“æ„é‡Œä¹Ÿè¿›è¡Œäº†æ›¿æ¢ï¼Œè¿˜ä½•æ¥å†²çªï¼Ÿ
 */</span>
<span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.css'</span>;
<span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">const</span> html = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">{styles.banner}</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">{style.text}</span>&gt;</span>HAHAHAHHAHAHA<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> html;</code></pre>
<h3 id="äºŒã€composition---æ··åˆç»„æˆ">
      <a href="#äºŒã€composition---æ··åˆç»„æˆ" aria-hidden="true"><i class="icon icon-link"></i></a>
      äºŒã€Composition - æ··åˆç»„æˆ
    </h3>
<p>css-modulesæ”¯æŒå¤šä¸ªç±»çš„æ··åˆç»„æˆã€‚æ¯”å¦‚ï¼š</p>
<pre><code class="language-css"><span class="hljs-selector-class">.colorRed</span> {
  <span class="hljs-attribute">color</span>: red
}

<span class="hljs-selector-class">.text</span> {
  <span class="hljs-attribute">composes</span>: colorRed;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#000</span>;
}</code></pre>
<p>ä¼šç¼–è¯‘æˆï¼š</p>
<pre><code class="language-css"><span class="hljs-selector-class">.App__colorRed___yoG_f</span> {
  <span class="hljs-attribute">color</span>: red
}

<span class="hljs-selector-class">.App__text___2j1Ht</span> {
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#000</span>;
}</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œç”Ÿæˆçš„cssä¸­å¹¶æ²¡æœ‰ä»»ä½•çš„å˜åŒ–ï¼Œé‚£è¿™ä¸ªcomposesåšäº†ä»€ä¹ˆå‘¢ï¼Ÿå…¶å®åœ¨é€šè¿‡jså¼•ç”¨çš„å¯¹è±¡å†…å‘ç”Ÿäº†å˜åŒ–ã€‚å¦‚ä¸‹ï¼š</p>
<pre><code class="language-json">{
  <span class="hljs-attr">"colorRed"</span>: <span class="hljs-string">"App__colorRed___yoG_f"</span>,
  <span class="hljs-attr">"text"</span>: <span class="hljs-string">"App__text___2j1Ht App__colorRed___yoG_f"</span>
}</code></pre>
<p>é‚£ä¹ˆåœ¨é€šè¿‡ <code>styles.text</code> ä½¿ç”¨ <code>text</code> ç±»çš„æ—¶å€™ï¼Œå…¶å®ä¹ŸåŒæ—¶ä½¿ç”¨äº† <code>colorRed</code> ç±»ï¼Œè¾¾åˆ°äº†æ··åˆç»„æˆçš„æ•ˆæœã€‚</p>
<h3 id="ä¸‰ã€import---å¼•ç”¨">
      <a href="#ä¸‰ã€import---å¼•ç”¨" aria-hidden="true"><i class="icon icon-link"></i></a>
      ä¸‰ã€Import - å¼•ç”¨
    </h3>
<p><code>css-modules</code> æ”¯æŒå¼•ç”¨å…¶ä»–æ–‡ä»¶çš„ç±»ã€‚</p>
<p>æ¯”å¦‚ï¼š</p>
<pre><code class="language-less"><span class="hljs-comment">// green.css</span>
<span class="hljs-selector-class">.green</span> {
  <span class="hljs-attribute">color</span>: green;
}</code></pre>
<pre><code class="language-less"><span class="hljs-comment">// text.css</span>
<span class="hljs-selector-class">.text</span> {
  <span class="hljs-attribute">background-color</span>: red;
  <span class="hljs-attribute">composes</span>: green from <span class="hljs-string">'./green.css'</span>;
}</code></pre>
<p>ä¼šç¼–è¯‘æˆï¼š</p>
<pre><code class="language-css"><span class="hljs-selector-class">.green__green___1v20L</span> {
  <span class="hljs-attribute">color</span>: green;
}
<span class="hljs-selector-class">.text__text__2jfs0</span> {
  <span class="hljs-attribute">background-color</span>: red;
}</code></pre>
<p>å…¶å®è·Ÿ <code>äºŒ</code> ä¸€æ ·ï¼Œç”Ÿæˆçš„csså¹¶æ²¡æœ‰ä»€ä¹ˆæ”¹åŠ¨ï¼Œå…¶å®æ”¹å˜çš„æ˜¯ç”Ÿæˆjså¯¹è±¡çš„å†…å®¹ï¼š</p>
<pre><code class="language-js"><span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">'./text.css'</span>;

<span class="hljs-comment">// styles = {green: 'green__green___1v20L', text: 'text__text__2jfs0 green__green___1v20L'}</span></code></pre>
<h2 id="styled-components">
      <a href="#styled-components" aria-hidden="true"><i class="icon icon-link"></i></a>
      styled-components
    </h2>
<p><a href="https://github.com/styled-components/styled-components">styled-components</a>, å¯èƒ½æ˜¯Reactä¸­cssçš„æœ€ä½³å®è·µäº†ï¼Œå¦‚æœä½ å–œæ¬¢ï¼Œä½ ä¹Ÿå¯ä»¥å«å®ƒ<code>styled-react-components</code> : )ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œåƒå†™reactç»„ä»¶ä¸€æ ·å»å†™cssï¼Œæ˜¯ä¸€ç§ä»€ä¹ˆæ ·çš„ä½“éªŒï¼Ÿ</p>
<p>å¦‚ä¸‹ï¼Œä½ å¯ä»¥è¿™æ ·æ¥å†™æ ·å¼ï¼š</p>
<pre><code class="language-javascript"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> styled <span class="hljs-keyword">from</span> <span class="hljs-string">'styled-components'</span>;

<span class="hljs-keyword">const</span> Title = styled.h1<span class="hljs-string">`
  font-size: 1.5em;
  text-align: center;
  color: palevioletred;
`</span>;

<span class="hljs-keyword">const</span> Wrapper = styled.section<span class="hljs-string">`
  padding: 4em;
  background: papayawhip;
`</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> () =&gt; <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Wrapper</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Title</span>&gt;</span>Hello World, this is my first styled component!<span class="hljs-tag">&lt;/<span class="hljs-name">Title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Wrapper</span>&gt;</span></span>;</code></pre>
<p><code>styled-components</code>ä¼šè‡ªåŠ¨å¸®ä½ åœ¨ <code>è¿è¡Œæ—¶</code> ç”Ÿæˆä¸€ä¸ªæ ·å¼è¡¨ï¼Œæ’å…¥åˆ° <code>&lt;head&gt;</code> ä¸‹çš„ <code>&lt;style&gt;</code> æ ‡ç­¾ä¸­ï¼Œæ¯”å¦‚ä¸Šè¾¹çš„ä»£ç ï¼Œä¼šåœ¨è¿è¡Œæ˜¯ç”Ÿæˆå¦‚ä¸‹ä»£ç ï¼š</p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">data-styled-components</span>&gt;</span><span class="css">
    <span class="hljs-comment">/* sc-component-id: model__Title-cooNNd */</span>
    <span class="hljs-selector-class">.model__Title-cooNNd</span> {} <span class="hljs-selector-class">.jHitSF</span>{<span class="hljs-attribute">font-size</span>:<span class="hljs-number">1.5em</span>;<span class="hljs-attribute">text-align</span>:center;<span class="hljs-attribute">color</span>:palevioletred;}
    <span class="hljs-comment">/* sc-component-id: model__Wrapper-bEJrHK */</span>
    <span class="hljs-selector-class">.model__Wrapper-bEJrHK</span> {} <span class="hljs-selector-class">.ipFfju</span>{<span class="hljs-attribute">padding</span>:<span class="hljs-number">4em</span>;<span class="hljs-attribute">background</span>:papayawhip;}
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"model__Wrapper-bEJrHK ipFfju"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"model__Title-cooNNd jHitSF"</span>&gt;</span>Hello World, this is my first styled component!<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></code></pre>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬åœ¨jsä¸­å†™çš„æ ·å¼ï¼Œè¢«æ’å…¥åˆ°äº† <code>&lt;style&gt;</code>ä¸­ï¼Œå¹¶ä¸”ç”Ÿæˆäº†ä¸€ä¸ªéšæœºçš„ç±»åï¼Œè€Œä¸”è¿™ä¸ªç±»åï¼Œä¹Ÿæ˜¯è¢« <code>react-dom</code> ç”Ÿæˆçš„DOMç»“æ„æ‰€å¼•ç”¨ã€‚</p>
<p>å—ç›Šäº <code>styled-components</code>ï¼Œæˆ‘ä»¬è´¯å½»äº† <code>react</code> çš„ <code>ä¸‡ç‰©çš†ç»„ä»¶</code> çš„æ€æƒ³ï¼Œä½¿æˆ‘ä»¬åœ¨cssçš„ç»„ä»¶åŒ–ä¸Šåˆæ¨è¿›äº†ä¸€æ­¥ï¼ˆå‘å¸ƒä¸€ä¸ªçº¯cssç»„ä»¶è¯•è¯•ï¼Ÿï¼‰ : )</p>
<p>åœ¨è¿™ç¯‡æ–‡ç« é‡Œï¼Œæˆ‘ä¼šç®€å•æ¢è®¨ä¸€ä¸‹ <code>style-components</code> çš„ç”¨æ³•å’Œç‰¹æ€§ã€‚</p>
<h3 id="å¦‚ä½•ä½¿ç”¨ï¼Ÿ">
      <a href="#å¦‚ä½•ä½¿ç”¨ï¼Ÿ" aria-hidden="true"><i class="icon icon-link"></i></a>
      å¦‚ä½•ä½¿ç”¨ï¼Ÿ
    </h3>
<p><code>styled-components</code> ä¸€èˆ¬é…åˆç€ <code>react</code> ä½¿ç”¨ï¼Œå½“ç„¶ä¹Ÿæ”¯æŒ <code>vue</code> ï¼ˆ<a href="https://github.com/styled-components/vue-styled-components">vue-styled-components</a>)ã€‚æŠ›å¼€è¿™ä¸¤ä¸ªæ¥è¯´ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥åœ¨åŸç”Ÿjsä¸‹ä½¿ç”¨ï¼š</p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://unpkg.com/styled-components/dist/styled-components.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
<p>æˆ‘ä»¬è¿™é‡Œè®²é…åˆ <code>react</code> çš„ç”¨æ³•ã€‚</p>
<p><strong>ä¸€ã€é¦–å…ˆï¼Œå®‰è£…ä¾èµ–</strong></p>
<pre><code class="language-bash">$ npm i styled-components
<span class="hljs-comment"># é…åˆç€babelæ¥ä½¿ç”¨</span>
$ npm i -D babel-plugin-styled-components</code></pre>
<p><strong>äºŒã€é…ç½® <code>.babelrc</code></strong> ï¼ˆå½“ç„¶ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£… <code>webpack</code> ï¼Œé…ç½®webpackçš„configï¼Œå¹¶ä¸”éœ€è¦éœ€è¦å®‰è£… <code>babel-preset-env</code> å’Œ <code>babel-preset-react</code>ï¼Œè¿™é‡Œä¸èµ˜è¿°ï¼‰</p>
<pre><code class="language-json">{
  <span class="hljs-attr">"presets"</span>: [<span class="hljs-string">"env"</span>, <span class="hljs-string">"react"</span>],
  <span class="hljs-attr">"plugins"</span>: [<span class="hljs-string">"styled-components"</span>]
}</code></pre>
<p>ç»è¿‡ä»¥ä¸Šç®€å•çš„é…ç½®ä¹‹åï¼Œå°±å¯ä»¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ <code>styled-components</code> äº†ã€‚</p>
<h3 id="å·¥å…·">
      <a href="#å·¥å…·" aria-hidden="true"><i class="icon icon-link"></i></a>
      å·¥å…·
    </h3>
<p>å½“ç„¶ï¼Œç°åœ¨çš„ <code>styled-components</code> ä¹Ÿæ˜¯æ”¯æŒäº† <a href="https://github.com/styled-components/stylelint-processor-styled-components">stylelint</a> å’Œ <a href="https://github.com/styled-components/jest-styled-components">jest</a>ï¼Œæ‰€ä»¥ï¼Œä½ ä¹Ÿä¸ç”¨æ‹…å¿ƒæ ·å¼æ£€æŸ¥å’Œæµ‹è¯•äº† ï¼šï¼‰</p>
<p><strong>ä¸‹è¾¹å„¿è¯´ä¸€ä¸‹ <code>styled-components</code> çš„ä¸€äº›ç”¨æ³•å’Œç‰¹æ€§ã€‚</strong> å®˜æ–¹æ–‡æ¡£åœ¨è¿™å„¿ï¼š <a href="https://www.styled-components.com/docs/basics">https://www.styled-components.com/docs/basics</a></p>
<h3 id="ä¸€ã€åŠ¨æ€æ ·å¼èµ‹å€¼">
      <a href="#ä¸€ã€åŠ¨æ€æ ·å¼èµ‹å€¼" aria-hidden="true"><i class="icon icon-link"></i></a>
      ä¸€ã€åŠ¨æ€æ ·å¼èµ‹å€¼
    </h3>
<p>ä½ å¯ä»¥ä¼ propsç»™ç»„ä»¶ï¼Œè®©ç»„ä»¶æ ¹æ®æ‰€ä¼ çš„propsçš„å€¼åŠ¨æ€æ”¹å˜æ ·å¼ã€‚</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> Button = styled.button<span class="hljs-string">`
  /* æ ¹æ®propsçš„å€¼åŠ¨æ€æ”¹å˜æ ·å¼çš„å€¼ */
  background: <span class="hljs-subst">${props =&gt; props.primary ? <span class="hljs-string">'palevioletred'</span> : <span class="hljs-string">'white'</span>}</span>;
  color: <span class="hljs-subst">${props =&gt; props.primary ? <span class="hljs-string">'white'</span> : <span class="hljs-string">'palevioletred'</span>}</span>;
`</span>;

render(
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Button</span>&gt;</span>Normal<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">primary</span>&gt;</span>Primary<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
);</code></pre>
<h3 id="äºŒã€æ ·å¼ç»§æ‰¿">
      <a href="#äºŒã€æ ·å¼ç»§æ‰¿" aria-hidden="true"><i class="icon icon-link"></i></a>
      äºŒã€æ ·å¼ç»§æ‰¿
    </h3>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> Button = styled.button<span class="hljs-string">`
  color: palevioletred;
  font-size: 1em;
  margin: 1em;
  padding: 0.25em 1em;
  border: 2px solid palevioletred;
  border-radius: 3px;
`</span>;
<span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªæ–°Buttonç»„ä»¶ï¼Œç»§æ‰¿è‡ªButtonï¼Œå¹¶å¯¹Buttonè¿›è¡Œæ ·å¼æ·»åŠ å’Œè¦†ç›–</span>
<span class="hljs-keyword">const</span> TomatoButton = styled(Button)<span class="hljs-string">`
  color: tomato;
  border-color: tomato;
`</span>;

render(
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Button</span>&gt;</span>Normal Button<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">TomatoButton</span>&gt;</span>Tomato Button<span class="hljs-tag">&lt;/<span class="hljs-name">TomatoButton</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
);</code></pre>
<h3 id="ä¸‰ã€ç»„ä»¶æ ‡ç­¾æ›¿æ¢">
      <a href="#ä¸‰ã€ç»„ä»¶æ ‡ç­¾æ›¿æ¢" aria-hidden="true"><i class="icon icon-link"></i></a>
      ä¸‰ã€ç»„ä»¶æ ‡ç­¾æ›¿æ¢
    </h3>
<p>æ¯”å¦‚ï¼Œä½ åˆ›å»ºäº†ä¸€ä¸ªButtonç»„ä»¶ï¼Œä½ æƒ³æŠŠ<code>button</code>æ ‡ç­¾å˜æˆ<code>a</code>æ ‡ç­¾ï¼Œä½†æ˜¯æ ·å¼è¿˜æ˜¯<code>button</code>çš„æ ·å¼ã€‚é‚£ä¹ˆä½ å¯ä»¥é€šè¿‡ <code>withComponent</code> æ–¹æ³•è½»æ¾åšåˆ°ã€‚</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> Button = styled.button<span class="hljs-string">`
  display: inline-block;
  color: palevioletred;
  font-size: 1em;
  margin: 1em;
  padding: 0.25em 1em;
  border: 2px solid palevioletred;
  border-radius: 3px;
`</span>;

<span class="hljs-comment">// æŠŠ&lt;button&gt;æ ‡ç­¾æ›¿æ¢æˆ&lt;a&gt;æ ‡ç­¾</span>
<span class="hljs-keyword">const</span> Link = Button.withComponent(<span class="hljs-string">'a'</span>)

<span class="hljs-comment">// ç»§æ‰¿Linkç»„ä»¶</span>
<span class="hljs-keyword">const</span> TomatoLink = styled(Link)<span class="hljs-string">`
  color: tomato;
  border-color: tomato;
`</span>;

render(
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Button</span>&gt;</span>Normal Button<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Link</span>&gt;</span>Normal Link<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">TomatoLink</span>&gt;</span>Tomato Link<span class="hljs-tag">&lt;/<span class="hljs-name">TomatoLink</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
);</code></pre>
<h3 id="å››ã€åŠ¨ç”»">
      <a href="#å››ã€åŠ¨ç”»" aria-hidden="true"><i class="icon icon-link"></i></a>
      å››ã€åŠ¨ç”»
    </h3>
<pre><code class="language-javascript"><span class="hljs-comment">// è¿™ä¸ªkeyframeä¼šéšæœºç”Ÿæˆä¸€ä¸ªname</span>
<span class="hljs-keyword">const</span> rotate360 = keyframes<span class="hljs-string">`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`</span>;

<span class="hljs-keyword">const</span> Rotate = styled.div<span class="hljs-string">`
  display: inline-block;
  animation: <span class="hljs-subst">${rotate360}</span> 2s linear infinite;
  padding: 2rem 1rem;
  font-size: 1.2rem;
`</span>;

render(
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Rotate</span>&gt;</span>&amp;lt; ğŸ’… &amp;gt;<span class="hljs-tag">&lt;/<span class="hljs-name">Rotate</span>&gt;</span></span>
);</code></pre>
<h3 id="äº”ã€media-query">
      <a href="#äº”ã€media-query" aria-hidden="true"><i class="icon icon-link"></i></a>
      äº”ã€Media Query
    </h3>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> Content = styled.div<span class="hljs-string">`
  background: papayawhip;
  height: 3em;
  width: 3em;

  @media (max-width: 700px) {
    background: palevioletred;
  }
`</span>;

render(
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Content</span> /&gt;</span>
);</span></code></pre>
<h3 id="å…­ã€åµŒå¥—å†™æ³•">
      <a href="#å…­ã€åµŒå¥—å†™æ³•" aria-hidden="true"><i class="icon icon-link"></i></a>
      å…­ã€åµŒå¥—å†™æ³•
    </h3>
<p><code>styled-components</code>æ”¯æŒåµŒå¥—å†™æ³•ï¼Œè¿™ä¸ªç‰¹æ€§æ˜¯ä» <code>Sass</code> ç§»æ¤è¿‡æ¥çš„ã€‚</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> EqualDivider = styled.div<span class="hljs-string">`
  display: flex;
  margin: 0.5rem;
  padding: 1rem;
  background: papayawhip;
  <span class="hljs-subst">${props =&gt; props.vertical &amp;&amp; <span class="hljs-string">'flex-direction: column;'</span>}</span>

  &gt; * {
    flex: 1;

    &amp;:not(:first-child) {
      <span class="hljs-subst">${props =&gt; props.vertical ? <span class="hljs-string">'margin-top'</span> : <span class="hljs-string">'margin-left'</span>}</span>: 1rem;
    }
  }
`</span>;

<span class="hljs-keyword">const</span> Child = styled.div<span class="hljs-string">`
  padding: 0.25rem 0.5rem;
  background: palevioletred;
`</span>;

render(
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">EqualDivider</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Child</span>&gt;</span>First<span class="hljs-tag">&lt;/<span class="hljs-name">Child</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Child</span>&gt;</span>Second<span class="hljs-tag">&lt;/<span class="hljs-name">Child</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Child</span>&gt;</span>Third<span class="hljs-tag">&lt;/<span class="hljs-name">Child</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">EqualDivider</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">EqualDivider</span> <span class="hljs-attr">vertical</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Child</span>&gt;</span>First<span class="hljs-tag">&lt;/<span class="hljs-name">Child</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Child</span>&gt;</span>Second<span class="hljs-tag">&lt;/<span class="hljs-name">Child</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Child</span>&gt;</span>Third<span class="hljs-tag">&lt;/<span class="hljs-name">Child</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">EqualDivider</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
);</code></pre>
<h3 id="ä¸ƒã€é…åˆå…¶ä»–cssç±»åº“ä½¿ç”¨">
      <a href="#ä¸ƒã€é…åˆå…¶ä»–cssç±»åº“ä½¿ç”¨" aria-hidden="true"><i class="icon icon-link"></i></a>
      ä¸ƒã€é…åˆå…¶ä»–cssç±»åº“ä½¿ç”¨
    </h3>
<p>æ¯”å¦‚ä½ åœ¨é¡¹ç›®ä¸­å¼•å…¥äº† <code>bootstrap.css</code>ï¼Œåº”è¯¥æ€ä¹ˆå’Œ<code>bootstrap</code>ä¸­çš„ç±»é…åˆä½¿ç”¨å‘¢ï¼Ÿ</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> Button = styled.button.attrs({
  <span class="hljs-comment">// ç”Ÿæˆçš„classListä¸­ä¼šåŒ…å«small</span>
  className: <span class="hljs-string">'small'</span>
})<span class="hljs-string">`
  background: black;
`</span>;

render(
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Button</span>&gt;</span>Styled Components<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Button</span>&gt;</span>The new way to style components!<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
);</code></pre>
<h3 id="å…«ã€ä¼˜å…ˆçº§">
      <a href="#å…«ã€ä¼˜å…ˆçº§" aria-hidden="true"><i class="icon icon-link"></i></a>
      å…«ã€ä¼˜å…ˆçº§
    </h3>
<p>æ€ä¹ˆæ ·è¦†ç›–é«˜ä¼˜å…ˆçº§çš„æ ·å¼å‘¢ï¼Ÿå½“ç„¶æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>!important</code>æ¥åšï¼Œä¸è¿‡ <code>styled-components</code> æ›´æ¨èä¸‹è¾¹è¿™ç§åšæ³•ï¼š</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> MyStyledComponent = styled(AlreadyStyledComponent)<span class="hljs-string">`
  &amp;&amp;&amp; {
    color: palevioletred;
    font-weight: bold;
  }
`</span>;</code></pre>
<p>æ¯ä¸ª <code>&amp;</code> æ›¿æ¢ä¸ºç”Ÿæˆçš„ç±»,é‚£ä¹ˆç”Ÿæˆçš„CSSæ˜¯è¿™æ ·çš„:</p>
<pre><code class="language-css"><span class="hljs-selector-class">.MyStyledComponent-asdf123</span><span class="hljs-selector-class">.MyStyledComponent-asdf123</span><span class="hljs-selector-class">.MyStyledComponent-asdf123</span> {
  <span class="hljs-attribute">color</span>: palevioletred;
  <span class="hljs-attribute">font-weight</span>: bold;
}</code></pre>
<p>é‚£ä¹ˆæ€ä¹ˆè¦†ç›–å†…è”æ ·å¼å‘¢ï¼Ÿå¦‚ä¸‹ï¼š</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> MyStyledComponent = styled(InlineStyledComponent)<span class="hljs-string">`
  &amp;[style] {
    font-size: 12px !important;
    color: blue !important;
  }
`</span>;</code></pre>
<p><code>styled-components</code> é¢ è¦†äº†ä¼ ç»Ÿçš„æ ·å¼å†™æ³•ï¼Œåƒå†™ç»„ä»¶ä¸€æ ·å†™cssï¼Œé…åˆ <code>react</code> æ°åˆ°å¥½å¤„ ï¼šï¼‰</p>
<p>è‡³äºåœ¨ <a href="https://github.com/less/less.js">Less</a>ã€<a href="https://github.com/css-modules/css-modules">css-modules</a> å’Œ <a href="https://github.com/styled-components/styled-components">styled-components</a> ä¸­åˆ°åº•é€‰æ‹©å“ªä¸€ä¸ªï¼Œå°±è¦çœ‹ä½ çš„åº”ç”¨åœºæ™¯å’Œéœ€æ±‚äº†ã€‚</p>
<p><strong>æœ¬ç« å®Œ</strong></p>

        
          <div style="margin-top: 80px;" id="disqus_thread"></div>
          <script>
            var disqus_config = function () {
            this.page.url = '';  // Replace PAGE_URL with your page's canonical URL variable
            this.page.identifier = ''; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
            };
            (function() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');
            s.src = 'https://pengjiyuan-blog.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
            })();
          </script>
          <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        
      </div>
      <footer class="copyright">
        <span><b><a href="/">PengJiyuan</a></b> All rights reserved. Powerd by <a style="color: #f59200" href="https://github.com/PengJiyuan/bloger" target="_blank">Bloger</a>.</span>
      </footer>
    </div>
    <script src="https://unpkg.com/particle-bg/lib/particle-bg.umd.min.js"></script>
    <script>
      particleBg('#header', {
        count: 30,
        color: '#fff'
      });
    </script>
  </body>
</html>
